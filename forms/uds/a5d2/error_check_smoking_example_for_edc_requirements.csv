Conformity/missingness checks,,,,,,,,,,,,,
Form,Packet,Variable,Error/alert test name,Short test Description (English),Full test Description (English),Test Description Logic,Form(s) compared in test,Variable(s) compared in test,Error or alert?,Can be done in REDCap?,Type of test,Were these variables/concepts previous versions of UDS?,Question(s) for domain experts
A5/D2,FVP,TOBAC100,TOBAC100 must be present,TOBAC100 cannot be blank,Q1a. TOBAC100 (more than 100 cigarettes in their life) cannot be blank,IF TOBAC100=blank,n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,TOBAC100,TOBAC100 conforms,"TOBAC100 must be an integer between 0 and 1, or =9 (Unknown)","Q1a. TOBAC100 (more than 100 cigarettes in their life) must be an integer between 0 and 1, or =9 (Unknown)",IF TOBAC100 <0 or (TOBAC100>1 and not 9),n/a,n/a,Error,Yes,Conformity,Yes,
A5/D2,FVP,SMOKYRS,SMOKYRS conditionally present,If TOBAC100=1 then SMOKYRS must be present,If Q1a. TOBAC100 (more than 100 cigarettes in their life)=1 then Q1b. SMOKYRS (total years smoked) must be present,IF TOBAC100=1 and SMOKYRS=blank,n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,SMOKYRS,SMOKYRS conditionally blank,If TOBAC100 is 0 (No) or 9 (Unknown) then SMOKYRS must be blank,If Q1a. TOBAC100 (more than 100 cigarettes in their life) is 0 (No) or 9 (Unknown) then Q1b. SMOKYRS (total years smoked) must be blank,"IF TOBAC100 in (0, 9) then SMOKYRS must be blank",n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,SMOKYRS,SMOKYRS conforms,"SMOKYRS must be an integer between 0 and 87, or =99 (Unknown)","Q1b. SMOKYRS (total years smoked) must be an integer between 0 and 87, or =99 (Unknown)",IF SMOKYRS <0 or (SMOKYRS>87 and not 99),n/a,n/a,Error,Yes,Conformity,Yes,
A5/D2,FVP,PACKSPER,PACKSPER conditionally present,If TOBAC100=1 then PACKSPER must be present,If Q1a. TOBAC100 (more than 100 cigarettes in their life)=1 then Q1c. PACKSPER (average number of packs smoked per day) must be present,IF TOBAC100=1 and PACKSPER=blank,n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,PACKSPER,PACKSPER conditionally blank,If TOBAC100 is 0 (No) or 9 (Unknown) then PACKSPER must be blank,If Q1a. TOBAC100 (more than 100 cigarettes in their life) is 0 (No) or 9 (Unknown) then Q1c. PACKSPER (average number of packs smoked per day) must be blank,"IF TOBAC100 in (0, 9) then PACKSPER must be blank",n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,PACKSPER,PACKSPER conforms,"PACKSPER must be an integer between 1 and 5, or =9 (Unknown)","Q1c. PACKSPER (average number of packs smoked per day) must be an integer between 1 and 5, or =9 (Unknown)",IF PACKSPER <1 or (PACKSPER>5 and not 9),n/a,n/a,Error,Yes,Conformity,Yes,
A5/D2,FVP,TOBAC30,TOBAC30 conditionally present,If TOBAC100=1 then TOBAC30 must be present,If Q1a. TOBAC100 (more than 100 cigarettes in their life)=1 then Q1d. TOBAC30 (smoked within the last 30 days) must be present,IF TOBAC100=1 and TOBAC30=blank,n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,TOBAC30,TOBAC30 conditionally blank,If TOBAC100 is 0 (No) or 9 (Unknown) then TOBAC30 must be blank,If Q1a. TOBAC100 (more than 100 cigarettes in their life) is 0 (No) or 9 (Unknown) then Q1d. TOBAC30 (smoked within the last 30 days) must be blank,"IF TOBAC100 in (0, 9) then TOBAC30 must be blank",n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,TOBAC30,TOBAC30 conforms,"TOBAC30 must be an integer between 0 and 1, or =9 (Unknown)","Q1d. TOBAC30 (smoked within the last 30 days) must be an integer between 0 and 1, or =9 (Unknown)",IF TOBAC30 <0 or (TOBAC30>1 and not 9),n/a,n/a,Error,Yes,Conformity,Yes,
A5/D2,FVP,QUITSMOK,QUITSMOK conditionally present,If TOBAC100=1 then QUITSMOK must be present,If Q1a. TOBAC100 (more than 100 cigarettes in their life)=1 then Q1e. QUITSMOK (age quit smoking) must be present,IF TOBAC100=1 and QUITSMOK=blank,n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,QUITSMOK,QUITSMOK conditionally blank,If TOBAC100 is 0 (No) or 9 (Unknown) then QUITSMOK must be blank,If Q1a. TOBAC100 (more than 100 cigarettes in their life) is 0 (No) or 9 (Unknown) then Q1e. QUITSMOK (age quit smoking) must be blank,"IF TOBAC100 in (0, 9) then QUITSMOK must be blank",n/a,n/a,Error,Yes,Missingness,Yes,
A5/D2,FVP,QUITSMOK,QUITSMOK conforms,"QUITSMOK must be an integer between 8 and 110, 888 (N/A) or 999 (Unknown)","Q1e. QUITSMOK (age quit smoking) must be an integer between 8 and 110, 888 (N/A), or 999 (Unknown)",IF QUITSMOK <8 or (QUITSMOK>110 and not 888 or 999),n/a,n/a,Error,Yes,Conformity,Yes,
,,,,,,,,,,,,,
Plausibility checks,,,,,,,,,,,,,
Form,Packet,Variable,Error/alert test name,Short test Description (English),Full test Description (English),Test Description Logic,Form(s) compared in test,Variable(s) compared in test,Error or alert?,Can be done in REDCap?,Type of test,Were these variables/concepts previous versions of UDS?,Question(s) for domain experts
A5/D2,FVP,TOBAC100,TOBAC100 consistency across UDS visits,If TOBAC100=0 (No) at previous visit and 1 (Yes) at current visit,If Q1a. TOBAC100 (more than 100 cigarettes in their life) =0 (No) at previous UDS visit and 1 (Yes) at current UDS visit,If TOBAC100=0 at previous visit and TOBAC100=1 at current visit,"A5/D2 (UDSv4), A5 (UDSv1-3)",TOBAC100,Alert,No,Plausibility,Yes,
A5/D2,FVP,TOBAC100,TOBAC100 consistency across UDS visits,If TOBAC100=1 (Yes) at previous visit and 0 (No) at current visit,If Q1a. TOBAC100 (more than 100 cigarettes in their life) =1 (Yes) at previous UDS visit and 0 (No) at current UDS visit,If TOBAC100=1 at previous visit and TOBAC100=0 at current visit,"A5/D2 (UDSv4), A5 (UDSv1-3)",TOBAC100,Alert,No,Plausibility,Yes,
A5/D2,FVP,TOBAC100,TOBAC100 consistency across UDS visits,"If TOBAC100=0,1 (No or Yes) at previous visit and 9 (Unknown) at current visit","If Q1a. TOBAC100  (more than 100 cigarettes in their life) =0,1 (No or Yes) at previous UDS visit and 9 (Unknown) at current UDS visit","If TOBAC100 in (0,1) at previous visit and TOBAC100=9 at current visit","A5/D2 (UDSv4), A5 (UDSv1-3)",TOBAC100,Alert,No,Plausibility,Yes,
A5/D2,FVP,SMOKYRS,SMOKYRS consistency across UDS visits,IF SMOKYRS at current visit is < SMOKYRS at previous visit,If Q1b. SMOKYRS (total years smoked) at current UDS visit is less than  SMOKYRS (total years smoked) at previous UDS visit,IF SMOKYRS at current visit is < SMOKYRS at previous visit,"A5/D2 (UDSv4), A5 (UDSv1-3)",SMOKYRS,Alert,No,Plausibility,Yes,
A5,FVP,SMOKYRS,SMOKYRS DIRECT EDIT TEST,If SMOKYRS at current visit is > SMOKYRS at previous visit plus time between visits,If Q1b. SMOKYRS (total years smoked) at current UDS visit is more than SMOKYRS (total years smoked) at the previous UDS visit plus the difference in A5 dates for the current and previous visit,IF SMOKYRS current > SMOKYRS previous plus datediff(A5 date current, A5 date previous),"A5 (UDSv4), A5 (UDSv1-3),SMOKYRS,Alert,No,Plausibility,Yes,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
,,,,,,,,,,,,,
